<MainScreen>:
    orientation: 'vertical'

    # Kopfbereich
    BoxLayout:
        id: header
        size_hint_y: None
        height: '80dp'
        orientation: 'vertical'
        padding: '10dp'
        spacing: '5dp'
        canvas.before:
            Color:
                rgba: 0.1, 0.3, 0.5, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: "Pool Control"
            font_size: '32sp'
            bold: True
            color: 1,1,1,1
            halign: 'center'
            valign: 'middle'
        Label:
            text: root.date_time
            font_size: '16sp'
            color: 1,1,1,1
            halign: 'center'
            valign: 'middle'

    # Hauptbereich
    BoxLayout:
        orientation: 'horizontal'

        # Linke Seitenleiste mit Buttons
        BoxLayout:
            id: sidebar
            orientation: 'vertical'
            height: '484dp'
            width: '120dp'
            size_hint_x: None
            spacing: '10dp'
            padding: '10dp'
            canvas.before:
                Color:
                    rgba: 0.2, 0.2, 0.2, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Button:
                text: "Main"
                font_size: '18sp'
                on_release: root.show_page('main')
            Button:
                text: "Settings"
                font_size: '18sp'
                on_release: root.show_page('settings')
            Button:
                text: "Info"
                font_size: '18sp'
                on_release: root.show_page('info')

        # Mittlerer Bereich für Messwerte
        BoxLayout:
            id: center_area
            orientation: 'vertical'
            height: '484dp'
            width: '784dp'
            size_hint_x: None
            padding: '20dp'
            spacing: '10dp'

        # Rechter Bereich für Relais (dynamisch)
        BoxLayout:
            id: right_area
            orientation: 'vertical'
            size_hint_x: None
            height: '484dp'
            width: '120dp'
            #padding: '5dp'
            #spacing: '5dp'
            # Wird dynamisch befüllt

    # Fußbereich
    BoxLayout:
        id: footer
        size_hint_y: None
        height: '36dp'
        padding: '8dp'
        spacing: '8dp'
        canvas.before:
            Color:
                rgba: 0.1, 0.3, 0.5, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: f"IP: {root.ip_address}"
            font_size: '12sp'
            text_size: self.size
            color: 1,1,1,1
            halign: 'left'
            valign: 'middle'
            size_hint_x: 0.5
        Widget:
            size_hint_x: 0.1
        BoxLayout:
            orientation: 'horizontal'
            size_hint_x: 0.4
            spacing: '4dp'
            Widget:
            Label:
                text: f"{root.wifi_strength} dBm"
                font_size: '12sp'
                text_size: self.size
                color: 1,1,1,1
                halign: 'right'
                valign: 'middle'
            Image:
                source: 'gui/icons/wifi4.png'
                size_hint_x: None
                width: '20dp'
